<div class="row d-flex flex-md-row flex-column-reverse">
  <div class="col-12 col-lg-9">
    <div class="table-responsive">
      <table class="table table-hover text-center align-middle">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Nombre</th>
            <th scope="col">Imagen</th>
            <th scope="col">Cantidad</th>
            <th scope="col">Precio</th>
            <th scope="col">Descuento</th>
            <th scope="col">Accion</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of products; index as i">
            <th scope="row">{{ i + 1 }}</th>
            <td>{{ product.bname }} {{ product.mname }}</td>
            <td><img width="100px" [src]="product.image"></td>
            <td>
              <div class="input-group input-group-sm mb-3 w-75 mx-auto">
                <button type="button" class="btn btn-primary d-none d-md-block" [disabled]="product.amount == 1" (click)="updateAmount(product.id, product.amount - 1)">-</button>
                <input type="number" [value]="product.amount" class="form-control form-control-sm">
                <button type="button" class="btn btn-primary d-none d-md-block" (click)="updateAmount(product.id, product.amount + 1)">+</button>
              </div>
            </td>
            <td><span *ngIf="product.discount" class="text-decoration-line-through text-muted fs-6" [ngClass]="{'me-1': product.discount}">{{ product.price * product.amount | number:'.0-2' }}</span> {{ product.price * product.amount | discount:product.discount | number:'.0-2'  }}€</td>
            <td><div class="badge bg-primary">{{ product.discount }}%</div></td>
            <td><button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#eliminar"><i class="fas fa-trash"></i></button></td>
          </tr>
          <!-- <app-cart-product  [orden]="i" [cart_data]="product"></app-cart-product> -->
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-12 col-md">
    <div class="card shadow mx-0 my-4">
      <div class="card-body">
        <p class="d-flex justify-content-between">Precio: <span>{{ total_price }}€</span></p>
        <p class="d-flex justify-content-between">Descuento: <span>-{{ discount_price }}€</span></p>
        <hr>
        <p class="d-flex justify-content-between">Precio Final: <span>{{ total_price - discount_price }}€</span></p>
        <div class="d-grid">
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#checkout">Realizar Compra</button>
        </div>
      </div>
    </div>
  </div>
</div>
